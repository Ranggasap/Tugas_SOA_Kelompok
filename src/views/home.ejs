<!DOCTYPE html>
<html>
  <head>
    <title>Florist App - Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Lato:wght@300;400;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="/css/style.css" />
  </head>
  <body>
    <!-- Header disini-->
    <nav class="navbar fixed-top shadow-sm px-4 d-flex justify-content-between align-items-center">
      <div class="flex-grow-1">
        <img src="/asset/image/Logo V3.png" alt="Logo" class="logo-img me-2">
      </div>
      <div class="text-center flex-grow-1">
        <h1 class="store-name">Igun Florist</h1>
      </div>
      <div>
        <a href="/profile" class="btn btn-cart">
          <i class="fas fa-user-circle me-2"></i>
          <span class="d-none d-md-inline">Profile</span>
        </a>
        <a href="/history" class="btn btn-cart">
          <i class="fas fa-history mb-1"></i>
          <span class="d-none d-md-inline">History</span>
        </a>
        <a href="/cart" class="btn btn-cart">
          <i class="fas fa-shopping-bag me-1"></i>
          <span class="d-none d-md-inline">Cart</span>
          <span id="cartCount" class="badge"><%= cartCount %></span>
        </a>
      </div>
    </nav>

    <!-- Search Section -->
    <div class="container mt-4">
      <div class="search-section">
        <div class="row justify-content-center">
          <div class="col-md-8">
            <div class="input-group input-group-lg">
              <input id="mainSearch" class="form-control" type="search" placeholder="Cari bunga impian Anda..." />
              <button class="btn btn-custom" type="button" id="searchBtn">
                <i class="fas fa-search me-2"></i>Cari
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="container">
      <h2 class="section-title text-center d-block w-100">
        <i class="fas fa-seedling me-3"></i>Koleksi Bunga Premium
      </h2>
      <div class="row" id="productGrid">
        <div class="col-12">
          <div class="loading-container">
            <div class="loading-spinner"></div>
            <p class="loading-text">Memuat koleksi bunga terbaik untuk Anda...</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal Produk -->
    <div class="modal fade" id="productModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalName">
              <i class="fas fa-flower me-2"></i>
            </h5>
            <button type="button" class="btn-close btn-close-black" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body text-center p-4">
            <img id="modalImg" src="" class="modal-img img-fluid rounded-3 mb-4" />
            <p id="modalDesc" class="text-muted fs-6 mb-4"></p>
            <div class="d-flex justify-content-center align-items-center mb-4">
              <h3 class="price-tag mb-0" id="modalPrice"></h3>
            </div>
          </div>
          <div class="modal-footer justify-content-center border-0">
            <button type="button" class="btn btn-outline-secondary me-3" data-bs-dismiss="modal">
              <i class="fas fa-times me-2"></i>Tutup
            </button>
            <button class="btn btn-custom btn-lg" id="addToCartBtn">
              <i class="fas fa-cart-plus me-2"></i>Tambahkan ke Keranjang
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Success Toast -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3">
      <div id="successToast" class="toast" role="alert">
        <div class="toast-header bg-success text-white">
          <i class="fas fa-check-circle me-2"></i>
          <strong class="me-auto">Berhasil!</strong>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast"></button>
        </div>
        <div class="toast-body" id="toastMessage">
          Produk berhasil ditambahkan ke keranjang!
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/home.js"></script>
  </body>
</html>