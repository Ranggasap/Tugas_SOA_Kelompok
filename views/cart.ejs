<!DOCTYPE html>
<html>
<head>
  <title>Cart</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/style.css" rel="stylesheet">
</head>
<body>
  <div class="container my-5">
    <h2 class="mb-4 text-center">Shopping Cart</h2>
    <div class="row justify-content-center">
      <div class="col-12 col-md-8">
        <!-- Cart Items -->
        <div class="d-flex flex-column gap-3">
          <!-- Cart Item 1 -->
          <div class="card">
            <div class="card-body d-flex flex-column flex-md-row justify-content-between align-items-center">
              <div class="mb-2 mb-md-0">
                <h5 class="card-title mb-1">Product A</h5>
                <p class="mb-1">Price: <span class="cart-price" data-index="0">Rp 50,000</span></p>
                <p class="mb-1">Quantity: 
                  <button class="btn btn-outline-secondary btn-sm me-1 quantity-btn" data-index="0" data-action="decrement">–</button>
                  <span class="cart-qty" data-index="0">2</span>
                  <button class="btn btn-outline-secondary btn-sm ms-1 quantity-btn" data-index="0" data-action="increment">+</button>
                </p>
                <p class="mb-0">Total: <span class="cart-total" data-index="0">Rp 100,000</span></p>
              </div>
            </div>
          </div>
          <!-- Cart Item 2 -->
          <div class="card">
            <div class="card-body d-flex flex-column flex-md-row justify-content-between align-items-center">
              <div class="mb-2 mb-md-0">
                <h5 class="card-title mb-1">Product B</h5>
                <p class="mb-1">Price: <span class="cart-price" data-index="1">Rp 30,000</span></p>
                <p class="mb-1">Quantity: 
                  <button class="btn btn-outline-secondary btn-sm me-1 quantity-btn" data-index="1" data-action="decrement">–</button>
                  <span class="cart-qty" data-index="1">1</span>
                  <button class="btn btn-outline-secondary btn-sm ms-1 quantity-btn" data-index="1" data-action="increment">+</button>
                </p>
                <p class="mb-0">Total: <span class="cart-total" data-index="1">Rp 30,000</span></p>
              </div>
            </div>
          </div>
          <!-- Cart Item 3 -->
          <div class="card">
            <div class="card-body d-flex flex-column flex-md-row justify-content-between align-items-center">
              <div class="mb-2 mb-md-0">
                <h5 class="card-title mb-1">Product C</h5>
                <p class="mb-1">Price: <span class="cart-price" data-index="2">Rp 80,000</span></p>
                <p class="mb-1">Quantity: 
                  <button class="btn btn-outline-secondary btn-sm me-1 quantity-btn" data-index="2" data-action="decrement">–</button>
                  <span class="cart-qty" data-index="2">3</span>
                  <button class="btn btn-outline-secondary btn-sm ms-1 quantity-btn" data-index="2" data-action="increment">+</button>
                </p>
                <p class="mb-0">Total: <span class="cart-total" data-index="2">Rp 240,000</span></p>
              </div>
            </div>
          </div>
          <!-- Cart Item 4 -->
          <div class="card">
            <div class="card-body d-flex flex-column flex-md-row justify-content-between align-items-center">
              <div class="mb-2 mb-md-0">
                <h5 class="card-title mb-1">Product D</h5>
                <p class="mb-1">Price: <span class="cart-price" data-index="3">Rp 25,000</span></p>
                <p class="mb-1">Quantity: 
                  <button class="btn btn-outline-secondary btn-sm me-1 quantity-btn" data-index="3" data-action="decrement">–</button>
                  <span class="cart-qty" data-index="3">2</span>
                  <button class="btn btn-outline-secondary btn-sm ms-1 quantity-btn" data-index="3" data-action="increment">+</button>
                </p>
                <p class="mb-0">Total: <span class="cart-total" data-index="3">Rp 50,000</span></p>
              </div>
            </div>
          </div>
          <!-- Cart Item 5 -->
          <div class="card">
            <div class="card-body d-flex flex-column flex-md-row justify-content-between align-items-center">
              <div class="mb-2 mb-md-0">
                <h5 class="card-title mb-1">Product E</h5>
                <p class="mb-1">Price: <span class="cart-price" data-index="4">Rp 10,000</span></p>
                <p class="mb-1">Quantity: 
                  <button class="btn btn-outline-secondary btn-sm me-1 quantity-btn" data-index="4" data-action="decrement">–</button>
                  <span class="cart-qty" data-index="4">5</span>
                  <button class="btn btn-outline-secondary btn-sm ms-1 quantity-btn" data-index="4" data-action="increment">+</button>
                </p>
                <p class="mb-0">Total: <span class="cart-total" data-index="4">Rp 50,000</span></p>
              </div>
            </div>
          </div>
        </div>
        <!-- Grand Total and Checkout -->
        <div class="card mt-4">
          <div class="card-body d-flex flex-column align-items-center">
            <h5 class="mb-3 w-100 text-left">Grand Total: <span id="grand-total">Rp 470,000</span></h5>
            <button id="checkout-btn" class="btn btn-success w-100">Checkout</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    // Dummy cart data for frontend-only quantity adjustment
    const cart = [
      { price: 50000, quantity: 2 },
      { price: 30000, quantity: 1 },
      { price: 80000, quantity: 3 },
      { price: 25000, quantity: 2 },
      { price: 10000, quantity: 5 }
    ];
    function formatRupiah(num) {
      return 'Rp ' + num.toLocaleString('id-ID');
    }
    function updateCartDisplay() {
      let grandTotal = 0;
      cart.forEach((item, i) => {
        const qtyElem = document.querySelector('.cart-qty[data-index="'+i+'"]');
        const totalElem = document.querySelector('.cart-total[data-index="'+i+'"]');
        if (qtyElem && totalElem) {
          qtyElem.textContent = item.quantity;
          const total = item.price * item.quantity;
          totalElem.textContent = formatRupiah(total);
          grandTotal += total;
        }
      });
      document.getElementById('grand-total').textContent = formatRupiah(grandTotal);
    }
    document.querySelectorAll('.quantity-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        const index = parseInt(this.getAttribute('data-index'));
        const action = this.getAttribute('data-action');
        if (action === 'increment') {
          cart[index].quantity += 1;
        } else if (action === 'decrement' && cart[index].quantity > 1) {
          cart[index].quantity -= 1;
        }
        updateCartDisplay();
      });
    });
    document.getElementById('checkout-btn').addEventListener('click', function() {
      console.log("Checkout clicked");
    });
    // Responsive: update on load
    updateCartDisplay();
  </script>
</body>
</html>